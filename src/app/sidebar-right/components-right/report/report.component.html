<!-- Placeholder html -->
<div *ngFor="let data of workflowData; let i = index"> 
    <h3>{{data.title}}</h3>
    <!-- Display Map -->
    <div *ngIf="data.outputs.layers" id="{{ 'reportMap' + i }}" class="reportMap"></div>
    <div *ngFor="let output of data.outputs | keyvalue: unsortedKeys">
        <!-- Click Point -->
        <li *ngIf="output.key=='clickPoint'">Clicked Point (Latitude, Longitude): ({{output.value.lat | number : '1.5'}}, {{output.value.lng | number : '1.5'}})</li>
        <!-- Example Workflow -->
        <li *ngIf="output.key=='selectColor'">Color Selected: {{output.value}}</li>
        <li *ngIf="output.key=='enterText'">Text Entered: {{output.value}}</li>
        <!-- Delineation -->
        <li *ngIf="output.key=='selectDelineationProcess'">Delineation Process: {{output.value}}</li>
        <!-- Fire Hydrology: Query by Basin -->
        <li *ngIf="output.key=='basinArea'">Drainage Area: {{output.value | number : '1.3'}} sq mi</li>
        <li *ngIf="output.key=='burnYears'">Burn Year Range: {{output.value[0]}} to {{output.value[1]}}</li>
        <li *ngIf="output.key=='burnedArea'">Burned Area: {{output.value[0] | number : '1.3'}} sq mi ({{output.value[1] | number : '1.3'}}%)</li>
        <li *ngIf="output.key=='basinCharacteristics'">Basin Characteristics:
            <ul>
                <table>
                    <tr>
                        <th>Basin Characteristic</th>
                        <th>Description</th>
                        <th>Value</th>
                        <th>Units</th>
                    </tr>
                    <tr *ngFor="let basin_characteristic of workflowData[i].outputs.basinCharacteristics">
                        <td>{{basin_characteristic.fcpg_parameter}}</td>
                        <td>{{basin_characteristic["description"]}}</td>
                        <td>{{basin_characteristic["value"]}}</td>
                        <td>{{basin_characteristic["units"]}}</td>
                    </tr>
                </table>
            </ul>
        </li>
        <li *ngIf="output.key=='geologyInfo'">Surficial Geology:
            <ul>
                <table>
                    <tr>
                        <th>Geologic Unit</th>
                        <th>Area (sq mi)</th>
                        <th>Area (%)</th>
                    </tr>
                    <tr *ngFor="let geologyType of workflowData[i].outputs.geologyInfo">
                        <td>{{geologyType[0]}}</td>
                        <td>{{geologyType[1] | number : '1.3'}}</td>
                        <td>{{geologyType[2] | number: '1.3'}}</td>
                    </tr>
                </table>
            </ul>
        </li>
        <li *ngIf="output.key=='streamflowEstimates'">Streamflow Estimates:
            <ul>
                <table>
                    <tr>
                        <th>Equation</th>
                        <th>Value</th>
                        <th>Units</th>
                    </tr>
                    <tr *ngFor="let streamflowEstimate of workflowData[i].outputs.streamflowEstimates">
                        <td>{{streamflowEstimate["name"]}}</td>
                        <td>{{streamflowEstimate["value"] | number : '1.3'}}</td>
                        <td>{{streamflowEstimate["unit"]["abbr"]}}</td>
                    </tr>
                </table>
            </ul>
        </li>
        <!-- Fire Hydrology: Query by Fire Perimeters-->
        <li *ngIf="output.key=='selectedPerimetersInfo'"> Selected Perimeters Information:
            <span *ngFor="let perimeter of workflowData[i].outputs.selectedPerimetersInfo">
                <ul>
                    <li>{{perimeter.Key}}:</li>
                    <div *ngFor="let feat of perimeter.Data.features; let k = index">
                        <ul>
                            <li>Feature {{k+1}}</li>
                            <span *ngFor="let prop of feat.properties | keyvalue">
                                <ul  *ngIf="shownFields.indexOf(prop.key.toUpperCase()) > -1">
                                    <li>{{prop.key}}: {{prop.value}}</li>
                                </ul>
                            </span> 
                        </ul>
                    </div>
                </ul>
            </span>
        </li>
    </div>
</div>
