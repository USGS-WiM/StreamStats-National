<button type="button" class="usa-button usa-button--default mbottom-sm" *ngIf="workflowData[0]">
	Print Report
</button>


<h3>Completed workflows:</h3>

<p *ngIf="!workflowData[0]">Please complete a workflow to see results</p>


<!-- Placeholder html -->
<div *ngFor="let data of workflowData; let i = index">
    <h4>{{data.title}}</h4>

	<ul class="usa-card-group"> 


		<li class="usa-card completed-report-card">

			<div class="usa-card__container">
				
				<!-- Card body -->
				<div class="usa-card__body">

					<span *ngFor="let output of data.outputs | keyvalue: unsortedKeys">
						<!-- Display Map -->
						<div *ngIf="data.outputs.layers" id="{{ 'reportMap' + i }}" class="reportMap"></div>

						<div class="card-padded">

							<!-- Click Point -->
							<div *ngIf="output.key=='clickPoint'">Lat/Lon: ({{output.value.lat | number : '1.5'}}, {{output.value.lng | number : '1.5'}})</div>
							
							<!-- Example Workflow -->
							<div *ngIf="output.key=='selectColor'">Color Selected: {{output.value}}</div>
							<div *ngIf="output.key=='enterText'">Text Entered: {{output.value}}</div>
							
							<!-- Delineation -->
							<div *ngIf="output.key=='selectDelineationProcess'">Delineation Process: {{output.value}}</div>
							
							<!-- Fire Hydrology: Query by Basin -->
							<div *ngIf="output.key=='basinArea'">Drainage Area: {{output.value | number : '1.3'}} sq mi</div>
							<div *ngIf="output.key=='burnYears'">Burn Year Range: {{output.value[0]}} to {{output.value[1]}}</div>
							<div *ngIf="output.key=='burnedArea'">Burned Area: {{output.value[0] | number : '1.3'}} sq mi ({{output.value[1] | number : '1.3'}}%)</div>
							<div *ngIf="output.key=='basinCharacteristics'">Basin Characteristics:
								<table>
									<tr>
										<th>Basin Characteristic</th>
										<th>Description</th>
										<th>Value</th>
										<th>Units</th>
									</tr>
									<tr *ngFor="let basin_characteristic of workflowData[i].outputs.basinCharacteristics">
										<td>{{basin_characteristic.fcpg_parameter}}</td>
										<td>{{basin_characteristic["description"]}}</td>
										<td>{{basin_characteristic["value"] | number : '1.2'}}</td>
										<td>{{basin_characteristic["units"]}}</td>
									</tr>
								</table>
							</div>
							<div *ngIf="output.key=='geologyInfo'">Surficial Geology:
								<table>
									<tr>
										<th>Geologic Unit</th>
										<th>Area (sq mi)</th>
										<th>Area (%)</th>
									</tr>
									<tr *ngFor="let geologyType of workflowData[i].outputs.geologyInfo">
										<td>{{geologyType[0]}}</td>
										<td>{{geologyType[1] | number : '1.3'}}</td>
										<td>{{geologyType[2] | number: '1.3'}}</td>
									</tr>
								</table>
							</div>
							<div *ngIf="output.key=='streamflowEstimates'">Streamflow Estimates:
								<table>
									<tr>
										<th>Equation</th>
										<th>Value</th>
										<th>Units</th>
									</tr>
									<tr *ngFor="let streamflowEstimate of workflowData[i].outputs.streamflowEstimates">
										<td>{{streamflowEstimate["name"]}}</td>
										<td>{{streamflowEstimate["value"] | number : '1.3'}}</td>
										<td>{{streamflowEstimate["unit"]["abbr"]}}</td>
									</tr>
								</table>
							</div>
							<!-- Fire Hydrology: Query by Fire Perimeters-->
							<div *ngIf="output.key=='selectedPerimetersInfo'"> Selected Perimeters Information:
								<span *ngFor="let perimeter of workflowData[i].outputs.selectedPerimetersInfo">
										<div>{{perimeter.Key}}:</div>
										<div *ngFor="let feat of perimeter.Data.features; let k = index">
											<div>Feature {{k+1}}</div>
											<span *ngFor="let prop of feat.properties | keyvalue">
												<div  *ngIf="shownFields.indexOf(prop.key.toUpperCase()) > -1">
													<div>{{prop.key}}: {{prop.value}}</div>
												</div>
											</span> 
										</div>
								</span>
							</div>


						</div> <!-- / Padded -->

					</span>

				</div>
				<!-- Card footer -->
				<div class="usa-card__footer">
					<!-- Download -->
					<button class="usa-button usa-button--small usa-button--outline">Download</button>
					<!-- Delete -->
					<button class="usa-button usa-button--small usa-button--secondary">
						<i class="far fa-trash"></i>
					</button>

				</div>
			</div>


		</li>

	</ul>
</div>
